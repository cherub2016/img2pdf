# img2pdf.py  
### 智能图片转 A4 PDF 工具（EXIF 校正 + OCR 文字方向检测 + 批量子目录处理）

---

## 📘 项目简介

`img2pdf.py` 是一个基于 Python 的命令行工具，用于将指定文件夹及其子文件夹中的图片（`.jpg` / `.jpeg`）自动转换为 **A4 PDF** 文件。

程序会自动执行以下操作：
1. **递归扫描** 源文件夹及其所有子文件夹；
2. 每个含图片的文件夹独立生成一个 PDF；
3. **EXIF 校正**：自动修复相机或手机拍摄时产生的图片方向错误；
4. **OCR 检测**：利用 `Tesseract OCR` 自动识别文字方向，智能旋转图片；
5. **页面方向智能匹配**：根据图片内容自动切换横版或竖版 A4；
6. **等比缩放、居中显示**，不裁剪、不拉伸；
7. 命令行带彩色日志输出，支持帮助参数 `-h`。

---

## 🧩 功能特性

| 功能 | 说明 |
|------|------|
| ✅ 递归扫描 | 自动遍历源文件夹及所有子文件夹 |
| ✅ 批量合并 | 每个子文件夹生成独立 PDF |
| ✅ EXIF 自动纠正 | 修正相机拍照的旋转信息 |
| ✅ OCR 智能方向识别 | 自动检测文字方向并旋转 |
| ✅ 自动横竖混排 | 横向图片自动生成横版 A4 页面 |
| ✅ 等比缩放居中 | 不裁剪、不拉伸 |
| ✅ 彩色日志 | 清晰显示执行过程与状态 |
| ✅ 错误防护 | 处理文件被占用、OCR失败等情况 |

---

## ⚙️ 环境依赖

### 📦 Python 版本
- Python 3.8 及以上

### 📚 必要依赖
```bash
pip install pillow reportlab pytesseract colorama
